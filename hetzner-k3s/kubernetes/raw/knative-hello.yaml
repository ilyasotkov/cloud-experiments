apiVersion: v1
kind: Namespace
metadata:
  labels:
    istio-injection: enabled
  name: knative-functions
---
apiVersion: serving.knative.dev/v1alpha1
kind: Service
metadata:
  name: helloworld-go
  namespace: knative-functions
spec:
  template:
    metadata:
      annotations:
        autoscaling.knative.dev/minScale: "1"
        autoscaling.knative.dev/maxScale: "10"
    spec:
      containers:
      - image: gcr.io/knative-samples/helloworld-go
        env:
        - name: TARGET
          value: "Go Woof"
  traffic:
  - latestRevision: true
    percent: 100
  # - revisionName: helloworld-go-zm776
  #   percent: 50
